# 交通监控系统

## 项目简介
交通监控系统利用Baidu API实现了实时的车辆检测和人流量统计功能。系统支持通过摄像头捕获实时视频流或选择视频文件进行分析，检测和统计车辆及行人的数量。系统基于PyQt5进行图形界面设计，包含登录界面、主菜单、实时监控界面和视频分析界面。

## 使用须知
- `默认账号`: 1
- `默认密码`: 1
- 你也可以输入你想要的账号密码，直接点击注册，则添加了新的账号信息，再登录即可
- 项目本身有测试视频，存储在test_hmwk/data文件夹中

## 文件说明

- `main.py`: 启动应用程序，显示登录界面。
- `traffic_monitor.py`: 实现交通监控功能，包括车辆检测和人流量统计。
- `api_baidu/`
  - `human_recognition.py`: 人流量统计API调用类。
  - `vehicle_detection.py`: 车辆检测API调用类。
- `data/`: 存放用于界面显示的图像文件和视频文件。
- `users.txt`: 存储用户的用户名和密码信息。
- `menu/`
  - `human_recognition_menu.py`: 人流量监测菜单界面。
  - `main_menu.py`: 主菜单界面。
  - `login_menu.py`: 用户登录界面。
  - `vehicle_detection_menu.py`: 车辆检测菜单界面。
  - `video_analysis_menu.py`: 视频分析界面。
  - `live_monitor_menu.py`: 实时监控界面。

## 安装与运行

### 环境依赖
- Python 3.6 及以上
- PyQt5
- OpenCV
- requests
- matplotlib

### 安装步骤
1. 克隆项目到本地：
    ```bash
    git clone <项目仓库地址>
    cd test_hmwk
    ```

2. 创建虚拟环境并激活：
    ```bash
    python -m venv venv
    source venv/bin/activate  # 对于Windows系统，使用 `venv\Scripts\activate`
    ```

3. 安装依赖包：
    ```bash
    pip install -r requirements.txt
    ```

4. 运行应用程序：
    ```bash
    python main.py
    ```

## 使用说明

1. **登录界面**:
    - 输入用户名和密码进行登录。如果没有账号，可以点击注册按钮进行注册。

2. **主菜单**:
    - 登录成功后，进入主菜单，可以选择“车辆检测”或“人流量监测”功能。
    - 点击“返回”按钮可以返回登录界面。

3. **车辆检测菜单**:
    - 点击“实时监控”按钮开始通过摄像头实时检测车辆。
    - 点击“视频分析”按钮选择视频文件进行车辆检测。
    - 点击“返回”按钮返回主菜单。

4. **人流量监测菜单**:
    - 点击“实时监控”按钮开始通过摄像头实时统计人流量。
    - 点击“视频分析”按钮选择视频文件进行人流量统计。
    - 点击“返回”按钮返回主菜单。

5. **实时监控界面**:
    - 显示实时视频流和检测结果。点击“开始/停止”按钮切换监控状态，点击“返回”按钮返回上一级菜单。

6. **视频分析界面**:
    - 显示视频文件的分析结果和折线图。点击“开始/停止”按钮切换分析状态，点击“返回”按钮返回上一级菜单。

## 日志记录

系统运行过程中产生的日志文件 `traffic_monitor.log` 记录了系统的运行信息、错误和异常情况，便于调试和维护。

## 开发与贡献

欢迎大家贡献代码和提出建议。在进行贡献之前，请阅读并遵循项目的贡献指南。

## 许可证

该项目使用 MIT 许可证，详细信息请参阅 LICENSE 文件。
